\chapter{Settings Manager}
\hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager}{}\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager}\index{Settings Manager@{Settings Manager}}
\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md477}%
\Hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md477}%
 The Settings Manager is a framework that lets you convert any serializable field into a setting, including a pre-\/built settings interface.\hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md478}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md478}
To install this package, follow the instructions in the \href{https://docs.unity3d.com/Manual/upm-ui-install.html}{\texttt{ Package Manager documentation}}.

This package provides a sample that demonstrates how to implement custom user settings. To install them, follow these instructions\+:


\begin{DoxyEnumerate}
\item Make sure the Settings Manager package is installed in your \doxylink{namespace_unity}{Unity} project.
\item In the Package Manager window, locate the Settings Manager package select it from the list.

The \href{https://docs.unity3d.com/Manual/upm-ui-details.html}{\texttt{ Details view}} displays information about the Settings Manager package.
\item From the Details view, click the {\bfseries{Import}} button under the {\bfseries{\doxylink{namespace_samples}{Samples}}} section.
\end{DoxyEnumerate}\hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md479}{}\doxysection{\texorpdfstring{Requirements}{Requirements}}\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md479}
This version of the Settings Manager package is compatible with the following versions of the \doxylink{namespace_unity}{Unity} Editor\+:


\begin{DoxyItemize}
\item 2018.\+4 and later
\end{DoxyItemize}\hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md480}{}\doxysection{\texorpdfstring{Using the Settings Manager}{Using the Settings Manager}}\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md480}
The \href{xref:UnityEditor.SettingsManagement.Settings}{\texttt{ Settings}} class is responsible for setting and retrieving serialized values from a settings repository.

Use settings repositories to save and load settings for a specific scope. This package provides two settings repositories\+:


\begin{DoxyItemize}
\item The \href{xref:UnityEditor.SettingsManagement.UserSettingsRepository}{\texttt{ User\+Settings\+Repository}}, backed by the \href{xref:UnityEditor.EditorPrefs}{\texttt{ Editor\+Prefs}} class, lets you save \href{https://docs.unity3d.com/Manual/Preferences.html}{\texttt{ user preferences}}.
\item The \href{xref:UnityEditor.SettingsManagement.FileSettingsRepository}{\texttt{ File\+Settings\+Repository}} saves a JSON file to the {\ttfamily Project\+Settings} directory in order to save \href{https://docs.unity3d.com/Manual/comp-ManagerGroup.html}{\texttt{ project settings}}.
\end{DoxyItemize}

You can create and manage all settings from a singleton {\ttfamily Settings} instance. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keyword}{using\ }UnityEditor.SettingsManagement;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }UnityEditor.SettingsManagement.Examples}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{class\ }MySettingsManager}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ internal\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ k\_PackageName\ =\ \textcolor{stringliteral}{"{}com.example.my-\/settings-\/example"{}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_unity_editor_1_1_settings_management_1_1_settings}{Settings}}\ s\_Instance;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ internal\ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_unity_editor_1_1_settings_management_1_1_settings}{Settings}}\ instance}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_unity_1_1_visual_scripting_1_1_icons_1_1_language_1_1_language_icon_set_abe13ce4f855a8973016ba2e1ee20d2df}{get}}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s\_Instance\ ==\ null)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s\_Instance\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_unity_editor_1_1_settings_management_1_1_settings}{Settings}}(k\_PackageName);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s\_Instance;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md481}{}\doxysubsection{\texorpdfstring{Getting and setting values}{Getting and setting values}}\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md481}
Your {\ttfamily Settings} instance should implement generic methods to set and retrieve values\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{MySettingsManager.instance.Get<float>("{}myFloatValue"{},\ SettingsScope.Project);}

\end{DoxyCode}


There are two arguments\+: key, and scope. The \href{xref:UnityEditor.SettingsManagement.Settings}{\texttt{ Settings}} class finds an appropriate \href{xref:UnityEditor.SettingsManagement.ISettingsRepository}{\texttt{ ISettings\+Repository}} for the scope, while {\ttfamily key} and {\ttfamily T} are used to find the value. Keys are unique among types\+: you can re-\/use keys as long as its type is different.

Alternatively, you can use the \href{xref:UnityEditor.SettingsManagement.UserSetting`1}{\texttt{ User\+Setting\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}}} class to manage settings. This is a wrapper class around the {\ttfamily Settings} get/set properties, which makes it easy to make any field a saved setting.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{comment}{//\ UserSetting<T>(Settings\ instance,\ string\ key,\ T\ defaultValue,\ SettingsScope\ scope\ =\ SettingsScope.Project)}}
\DoxyCodeLine{Setting<int>\ myIntValue\ =\ \textcolor{keyword}{new}\ Setting<int>(MySettingsManager.instance,\ \textcolor{stringliteral}{"{}int.key"{}},\ 42,\ SettingsScope.User);}

\end{DoxyCode}


\href{xref:UnityEditor.SettingsManagement.UserSetting`1}{\texttt{ User\+Setting\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}}} caches the current value, and keeps a copy of the default value so that it may be reset. You can also use {\ttfamily User\+Setting\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}} fields with the {\ttfamily \mbox{[}User\+Setting\+Attribute\mbox{]}} attribute, which lets the {\ttfamily Settings\+Manager\+Provider} automatically add it to a settings inspector.\hypertarget{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md482}{}\doxysection{\texorpdfstring{Settings Provider}{Settings Provider}}\label{md__library_2_package_cache_2com_8unity_8settings-manager_0d2_80_81_2_documentation_0i_2settings-manager_autotoc_md482}
To register your settings so they appear in the \href{https://docs.unity3d.com/Manual/comp-ManagerGroup.html}{\texttt{ Project Settings}} window, you can either write your own \href{xref:UnityEditor.SettingsProvider}{\texttt{ Settings\+Provider}} implementation, or use the \href{xref:UnityEditor.SettingsManagement.UserSettingsProvider}{\texttt{ User\+Settings\+Provider}} and let it automatically create your interface.

Making use of {\ttfamily User\+Settings\+Provider} comes with many benefits, including a uniform look for your settings UI, support for search, and per-\/field or mass reset support.


\begin{DoxyCode}{0}
\DoxyCodeLine{using\ UnityEngine;}
\DoxyCodeLine{}
\DoxyCodeLine{namespace\ UnityEditor.SettingsManagement.Examples}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ static\ class\ MySettingsProvider}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ const\ string\ k\_PreferencesPath\ =\ "{}Preferences/My\ Settings"{};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ [SettingsProvider]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ static\ SettingsProvider\ CreateSettingsProvider()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ //\ The\ last\ parameter\ tells\ the\ provider\ where\ to\ search\ for\ settings.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ provider\ =\ new\ SettingsManagerProvider(k\_PreferencesPath,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MySettingsManager.instance,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\ []\ \{\ typeof(MySettingsProvider).Assembly\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ return\ provider;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


To register a field with the \href{xref:UnityEditor.SettingsManagement.UserSettingsProvider}{\texttt{ User\+Settings\+Provider}}, decorate it with {\ttfamily \mbox{[}User\+Setting\+Attribute(string display\+Category, string key)\mbox{]}}.

\begin{quote}
\mbox{[}!\+NOTE\mbox{]} The {\ttfamily \mbox{[}User\+Setting\+Attribute\mbox{]}} decoration is only valid for static fields. \end{quote}
For more complex settings that require additional UI (or that don\textquotesingle{}t have a built-\/in Editor), use \href{xref:UnityEditor.SettingsManagement.UserSettingBlockAttribute}{\texttt{ User\+Setting\+Block\+Attribute}} to access the settings provider GUI. For more information, look at the sample source file {\ttfamily \doxylink{_settings_examples_8cs}{Settings\+Examples.\+cs}} under the {\ttfamily Assets/\+Samples/\+Settings Manager/\texorpdfstring{$<$}{<}version\texorpdfstring{$>$}{>}/\+User Settings Example/\+Package\+With\+Project\+And\+User\+Settings} folder in your \doxylink{namespace_unity}{Unity} project root.

\begin{quote}
\mbox{[}!\+TIP\mbox{]} If you don\textquotesingle{}t see this path or file, follow the steps under the Installation section to import it. \end{quote}
